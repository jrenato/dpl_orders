{% extends "base.html" %}
{% load i18n %}

{% block title %}{% translate "Order" %} {{ object.id }}{% endblock title %}

{% block content %}
<div class="container">
    <h1>{% translate "Order" %} {{ object.id }}</h1>
    <h2>{% translate "Customer" %}: {{ object.customer.name }}</h2>
    <div class="row detail-section">
        <div class="col-md-6">
            <ul>
                <li>{{ order.total_quantity }} {% translate "items" %}</li>
                <li>{% translate "Gross Total" %}: {{ order.total_value|floatformat:2 }}</li>
                <li>{% translate "Discount" %}: 0%</li>
                <li>{% translate "Net Total" %}: {{ order.total_value|floatformat:2 }}</li>
            </ul>
        </div>
        <div class="col-md-6">
            <ul>
                <li>{% translate "Order date" %}: {{ order.created|date:"SHORT_DATE_FORMAT" }}</li>
                <li>{% translate "Internal ID" %}: {{ order.vl_id }}</li>
                <li>{% translate "Status" %}: <span class="badge bg-warning">{% translate order.get_status_display %}</span></li>
                <li>{% translate "Shipping Company" %}: ({% translate "Soon" %})</li>
            </ul>
        </div>
    </div>

    <h2>{% translate "Order items" %}</h2>
    <div class="table-responsive">
        <table class="table table-striped table-hover table-sm">
            <thead>
                <tr>
                    <th scope="col">{% translate "Product" %}</th>
                    <th scope="col">{% translate "Quantity" %}</th>
                    <th scope="col">{% translate "Price" %}</th>
                    <th scope="col">{% translate "Subtotal" %}</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                {% for item in order_items %}
                    <tr>
                        <td>
                            <a href="{% url 'products:detail' item.product.id %}">
                                {{ item.product.name }}</a>
                        </td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.product.price|floatformat:2 }}</td>
                        <td>{{ item.subtotal|floatformat:2 }}</td>
                        <td>
                            <a href="#" class="btn btn-warning btn-sm">
                                <i data-feather="edit-2"></i>
                            </a>
                            <a href="#" class="btn btn-danger btn-sm">
                                <i data-feather="trash-2"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="{% url 'orders:list' %}" class="btn btn-primary">
        <i data-feather="arrow-left"></i>
        {% translate "Go back to orders list" %}
    </a>
</div>
{% endblock content %}
